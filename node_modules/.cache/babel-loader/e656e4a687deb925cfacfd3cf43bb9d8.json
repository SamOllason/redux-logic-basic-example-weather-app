{"ast":null,"code":"import * as types from '../../actions/types';\nimport { createLogic } from 'redux-logic';\nimport axios from 'axios';\nvar getWeatherDataLogic = createLogic({\n  type: types.GET_WEATHER_FOR_CITY,\n  // Respond to actions of this type\n  // cancelType: USER_FETCH_CANCEL, // cancel when this action is dispatched\n  latest: true,\n  // only provide the latest response if fired many times\n  processOptions: {\n    dispatchReturn: true,\n    // automatically dispatch the actions below from the resolved/rejected promise\n    successType: types.GET_WEATHER_FOR_CITY_SUCCESSFUL,\n    failType: types.GET_WEATHER_FOR_CITY_FAILURE // use this action type for errors\n\n  },\n  // Here we declare our promise inside a process.\n  // When the promise returns one of the actions above will be processed\n  process: function process(_ref) {\n    var action = _ref.action;\n    console.log('started process with action type: ' + action.type);\n    return axios('http://api.openweathermap.org/data/2.5/forecast?id=524901&APPID={990a9b09c280243934029275716f05a1}') // return axios(`http://api.openweathermap.org/data/2.5/weather?q=London&APPID={990a9b09c280243934029275716f05a1}`)\n    .then(function (resp) {\n      return resp.data;\n    });\n  }\n});\nexport default [getWeatherDataLogic];","map":{"version":3,"sources":["/Users/samollason/Documents/Develop/Web/simple-weather-app-redux-logic-example/src/redux/logic/weatherDataHandlingLogic.js"],"names":["types","createLogic","axios","getWeatherDataLogic","type","GET_WEATHER_FOR_CITY","latest","processOptions","dispatchReturn","successType","GET_WEATHER_FOR_CITY_SUCCESSFUL","failType","GET_WEATHER_FOR_CITY_FAILURE","process","action","console","log","then","resp","data"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,qBAAvB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,IAAMC,mBAAmB,GAAGF,WAAW,CAAC;AACpCG,EAAAA,IAAI,EAAEJ,KAAK,CAACK,oBADwB;AACD;AACnC;AACAC,EAAAA,MAAM,EAAE,IAH4B;AAGtB;AAEdC,EAAAA,cAAc,EAAE;AACZC,IAAAA,cAAc,EAAE,IADJ;AACU;AAEtBC,IAAAA,WAAW,EAAET,KAAK,CAACU,+BAHP;AAIZC,IAAAA,QAAQ,EAAEX,KAAK,CAACY,4BAJJ,CAIiC;;AAJjC,GALoB;AAYpC;AACA;AACAC,EAAAA,OAdoC,yBAchB;AAAA,QAAVC,MAAU,QAAVA,MAAU;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,uCAAuCF,MAAM,CAACV,IAA1D;AACA,WAAOF,KAAK,CAAC,oGAAD,CAAL,CACH;AADG,KAEFe,IAFE,CAEG,UAAAC,IAAI;AAAA,aAAIA,IAAI,CAACC,IAAT;AAAA,KAFP,CAAP;AAGH;AAnBmC,CAAD,CAAvC;AAsBA,eAAe,CACXhB,mBADW,CAAf","sourcesContent":["import * as types from '../../actions/types';\nimport { createLogic } from 'redux-logic';\nimport axios from 'axios';\n\nconst getWeatherDataLogic = createLogic({\n    type: types.GET_WEATHER_FOR_CITY,  // Respond to actions of this type\n    // cancelType: USER_FETCH_CANCEL, // cancel when this action is dispatched\n    latest: true, // only provide the latest response if fired many times\n\n    processOptions: {\n        dispatchReturn: true, // automatically dispatch the actions below from the resolved/rejected promise\n\n        successType: types.GET_WEATHER_FOR_CITY_SUCCESSFUL,\n        failType: types.GET_WEATHER_FOR_CITY_FAILURE // use this action type for errors\n    },\n\n    // Here we declare our promise inside a process.\n    // When the promise returns one of the actions above will be processed\n    process({ action }) {\n        console.log('started process with action type: ' + action.type);\n        return axios('http://api.openweathermap.org/data/2.5/forecast?id=524901&APPID={990a9b09c280243934029275716f05a1}')\n            // return axios(`http://api.openweathermap.org/data/2.5/weather?q=London&APPID={990a9b09c280243934029275716f05a1}`)\n            .then(resp => resp.data);\n    }\n});\n\nexport default [\n    getWeatherDataLogic\n];\n"]},"metadata":{},"sourceType":"module"}